[[xsoar-action-type]]
== XSOAR connector and action
++++
<titleabbrev>XSOAR</titleabbrev>
++++
:frontmatter-description: Add a connector that can create an incident in XSOAR.
:frontmatter-tags-products: [kibana]
:frontmatter-tags-content-type: [how-to]
:frontmatter-tags-user-goals: [configure]

XSOAR connector uses the https://cortex-panw.stoplight.io/docs/cortex-xsoar-8/m0qlgh9inh4vk-create-or-update-an-incident[XSOAR REST API] to create Cortex XSOAR incidents.

[float]
[[define-XSOAR-ui]]
=== Create connectors in {kib}

You can create connectors in *{stack-manage-app} > {connectors-ui}*
or as needed when you're creating a rule. For example:

[role="screenshot"]
image::management/connectors/images/xsoar-connector.png[XSOAR connector]

[float]
[[xsoar-connector-configuration]]
==== Connector configuration

XSOAR connectors have the following configuration properties:

Name::         The name of the connector.
URL::          The instance URL of XSOAR.
API key::      The API key for authentication in XSOAR.
API key id::   The API key id for authentication in XSOAR. It is mandatory for cloud instance users.

[float]
[[xsoar-action-configuration]]
=== Test connectors

You can test connectors as you're creating or editing the connector in {kib}. For example:

[role="screenshot"]
image::management/connectors/images/xsoar-params-test.png[XSOAR params test]

XSOAR actions have the following configuration properties.

Name:: The name of the incident.
Playbook:: The playbook to associate with the incident.
Start investigation:: Indicates whether to start the investigation process automatically upon creating the new incident.
Severity:: The severity of the incident: Unknown, Informational, Low, Medium, High or Critical.
+
--
NOTE: Use the `Keep severity from rule` toggle to create an incident with the rule's severity.
--

Body:: A JSON payload that includes additional parameters to to be included in the API request.
+
[source,json]
--
{
  "details": "This is an example incident",
  "type": "Unclassified"
}
--

[float]
[[xsoar-connector-networking-configuration]]
=== Connector networking configuration

Use the <<action-settings, Action configuration settings>> to customize connector networking configurations, such as proxies, certificates, or TLS settings. You can set configurations that apply to all your connectors or use `xpack.actions.customHostSettings` to set per-host configurations.

[float]
[[configure-xsoar]]
=== Configure XSOAR

To generate an API key in XSOAR:

1. Log in to your XSOAR instance.
2. Navigate to *Settings & Info > Settings > Integrations > API Keys*.
3. Generate the *API Key* and copy its value to configure the connector in {kib}.

NOTE: For more information, refer to the https://cortex-panw.stoplight.io/docs/cortex-xsoar-8/t09y7hrb5d14m-create-a-new-api-key[documentation].
